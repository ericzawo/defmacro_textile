---
layout: post
title: Bill Rowan retrospective
wip: true
---

h1. {{ page.title }}

p(meta). 30 Aug 2013

Today is Bill Rowan's last day at RethinkDB. Bill has done some really amazing work here, including the recently completed Javascript and Python drivers. He decided to move on to work on something totally different (but equally cool). We'll miss him dearly, but I just couldn't let him go without doing a bit of a retrospective (using RethinkDB, and Bill's very own driver code, of course!) So, let's get started!

First, I wrote a shell one-liner to get the data into RethinkDB:

```
git log --pretty=format:"%H|%ae|%at|%s" |     \
  python -c "import rethinkdb as r;           \
             import sys;                      \
             r.connect().repl();              \
             r.table_create('commits').run(); \
             r.table('commits').insert([dict(map(lambda x, y: [x, y], ['id', 'email', 'date', 'subject'], line.split('|', 3))) for line in sys.stdin]).run(durability='soft'); \
             r.table('commits').update({'date': r.epoch_time(r.row['date'].coerce_to('number')) }).run(durability='soft');"
```

Phew. I then switched to the data explorer and Javascript (which is also Bill's doing). I first made sure things imported correctly:

```javascript
r.table('commits').count()
// 20580

r.table('commits').nth(0)

// {
//   "date": Fri Mar 08 2013 02:17:05 GMT+00:00 ,
//   "email": marc@rethinkdb.com,
//   "id":  "00128bd3b456d369319e307f5f1bbf99dab85f98" ,
//   "subject":  "fixing missing subcommand string in log statement for unrecognized subcommand"
// }
```

Looks good. I then switched to the here of the occassion himself:

```javascript
r.table('commits').filter({email: 'bill@rethinkdb.com'}).count()
// 942
```

During his tenure here, Bill pushed 942 commits. Cool! Let's see what his very first commit was:

```javascript
r.table('commits').filter({email: 'bill@rethinkdb.com'}).orderBy('date').nth(0)
// {
//   "date": Fri Jun 17 2011 22:22:51 GMT+00:00 ,
//   "email": bill@rethinkdb.com,
//   "id":  "2da08b172d83ac5edea179689f32659d94ee2854" ,
//   "subject":  "fixed a bug in the memcached protocol implementation."
// }
```

Ah, that was back when Bill was an intern in 2011. RethinkDB still had a memcached front-end back then (way before we implemented ReQL and Bill's drivers I'm using to run these queries). I then wondered what his last commit was:

```javascript
r.table('commits').filter({email: 'bill@rethinkdb.com'}).orderBy(r.desc('date')).nth(0)
// {
//   "date": Thu Aug 29 2013 22:15:34 GMT+00:00 ,
//   "email": bill@rethinkdb.com,
//   "id":  "d5453cb99908160a33d174bd4bc546b56c644602" ,
//   "subject":  "Merge branch 'python_3' into next"
// }
```

Ah, just yesterday Bill merged Python 3 support into the very Python driver I used to import this data. Looks like he worked till the very end, though he slacked off on his last day! Hmm, let's see how productive Bill was over the years:

```javascript
r.table('commits').filter({email: 'bill@rethinkdb.com'})
 .groupedMapReduce(r.row('date').year(),
                   function() {return 1;},
                   function(x, y) { return x.add(y); })
// [
//   { "group": 2011, "reduction": 74 },
//   { "group": 2012, "reduction": 357 },
//   { "group": 2013, "reduction": 511 }
// ]
```

Makes sense! Bill was an intern at RethinkDB for a small part of 2011. He then went back to school to complete his masters, and came back in 2012. His productivity really picked up in 2013, when he made 511 commits. Let's look at some of the bugs Bill fixed in RethinkDB:

```javascript
r.table('commits').filter({email: 'bill@rethinkdb.com'}).filter(r.row('subject').match('fixes')).count()
// 145

r.table('commits').filter({email: 'bill@rethinkdb.com'}).filter(r.row('subject').match('fixes')).sample(5)('subject')
// [
//   "fixes infinite loop issue introduced by previous",
//   "Merge branch 'next' into sprint_3_driver_fixes",
//   "funcall tests and fixes",
//   "fixes #527 automagically convert floats to integers",
//   "fixes orderby for python"
// ]
```

What about some features he added?

```javascript
r.table('commits').filter({email: 'bill@rethinkdb.com'}).filter(r.row('subject').match('adds')).count()
// 127

r.table('commits').filter({email: 'bill@rethinkdb.com'}).filter(r.row('subject').match('adds')).sample(5)('subject')
// [
//   "adds variatic get all to JS driver",
//   "js client, adds append #1035",
//   "js client adds getter for last connection",
//   "adds return false to each to stop iteration",
//   "adds test for #992"
// ]
```

Lots of driver work! Let's look at one random commit that Bill will be remembered by:

```javascript
// [
//   {
//   "date": Fri May 31 2013 21:17:52 GMT+00:00 ,
//   "email": bill@rethinkdb.com, Â»
//   "id":  "81f46036345ea047b2e23aa968cfc94bd8691644" ,
//   "subject":  "Merge branch 'next' into 443_onFinished_callback"
// }
]
```

And... it's about the `onFinished_callback` in the Node.js implementation of the Javascript driver Bill loved to hate so much!

-----

Dude, we're going to miss you. We'll continue working hard to make sure your code gets used by millions of people. In the meantime, I don't doubt for a moment that you'll go on boldly where no man has gone before, and end up doing amazing things. Live long and prosper!